<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <title>Liste des Items</title>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap');
    </style>

</head>
<body>
    <h1>GENSHIN DATABASE</h1>

    <div id="horloge"></div> <!--Là ou sera afficher l'heure-->
    <script> // Le script qui permet de récupéré et affiché l'heure dans la div précédente
        function mettreAJourHeure() { // Création d'une fonction qui met à jour l'heure
            const maintenant = new Date(); // Récupère la date et l'heure actuelles
            const heures = maintenant.getHours().toString().padStart(2, '0');
            // Récupère l'heure actuelle (0-23), la convertit en texte et ajoute un '0' devant si besoin
            const minutes = maintenant.getMinutes().toString().padStart(2, '0');
            // Récupère les minutes actuelles (0-59), les convertit en texte et ajoute un '0' si besoin
            const secondes = maintenant.getSeconds().toString().padStart(2, '0');
            // Récupère les secondes actuelles (0-59), les convertit en texte et ajoute un '0' si besoin
            document.getElementById('horloge').textContent = `${heures}:${minutes}:${secondes}`;
            // Met à jour le texte du div ayant l'ID "horloge" avec l'heure formatée
        }
        setInterval(mettreAJourHeure, 1000); // Appelle la fonction toutes les 1000 millisecondes (1 seconde)
        mettreAJourHeure(); // Exécute la fonction immédiatement au chargement pour éviter un affichage vide au début
    </script>    

    <form action="/" method="get">
        <input type="text" name="nom_personnage_recherche" placeholder="Rechercher un personnage" value="{{ nom_recherche }}">
        <button type="submit">Rechercher</button>
    </form>

    <table style="margin-left: auto; margin-right: auto; border-style:solid ; border-color: black;"> 
        <tbody>
            {% for item in items %}
                <tr>
                    <td><img id="images_personnages" src="/static/images/images_personnages/{{ item['image_personnage'] }}" title="{{ item['nom_personnage'] }}"></td>
                    <td><img src="/static/images/images_armes/{{ item['image_type_arme'] }}"></td>
                    <td><img src="/static/images/images_éléments/{{ item['image_type'] }}"></td>
                    <td><img src="/static/images/images_pierres/{{ item['image_pierre'] }}"></td>
                    <td><img src="/static/images/images_boss/{{ item['image_objet_boss'] }}" title="{{ item['nom_objet_boss'] }}"></td>
                    <td>{{ item['nom_boss'] }}</td> 
                    <td><img src="/static/images/images_boss_hebdo/{{ item['image_objet_boss_hebdo'] }}" title="{{ item['nom_objet_boss_hebdo'] }}"></td>
                    <td>{{ item['nom_boss_hebdo'] }}</td>
                    <td><img src="/static/images/images_fleurs/{{ item['image_fleur'] }}" title="{{ item['nom_fleur'] }}"></td>
                    <td><img src="/static/images/images_livres/{{ item['image_livre'] }}" title="{{ item['nom_livre'] }}"></td>
                    <td><img src="/static/images/images_objets_monstres/{{ item['image_objet_monstre'] }}" title="{{ item['nom_objet_monstre'] }}"></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

</body>
<footer>
    <p>&copy; 2025 Ange | 705469010. Tous droits réservés.</p>
</footer>
</html>